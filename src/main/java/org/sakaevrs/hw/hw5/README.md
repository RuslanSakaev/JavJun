# Java Junior (семинары)
## Урок 5. Клиент/Сервер своими руками
1. Разработайте простой чат на основе сокетов как это было показано 
на самом семинаре. Ваше приложение должно включать в себя сервер, 
который принимает сообщения от клиентов и пересылает их всем 
участникам чата. (Вы можете просто переписать наше приложение 
с семинара, этого будет вполне достаточно)
2. *Подумайте, как организовать отправку ЛИЧНЫХ сообщений 
в контексте нашего чата, доработайте поддержку отправки личных 
сообщений, небольшую подсказку я дал в конце семинара.

# Решение:
Для реализации возможности отправки личных сообщений в чате, 
нужно внести изменения в обработку сообщений как на стороне сервера, 
так и на стороне клиента. Для этого определим следующий формат: 
- @username: message, 
- где username - это имя пользователя, которому предназначается сообщение, 
- а message - само сообщение

Изменим метод __broadcastMessage__ в классе __ClientManager__, добавим проверки, 
является ли сообщение личным, и если да, отправьте его только указанному пользователю.
Для удобства добавим отправку инструкции клиенту __sendWelcomeMessage__.
```java
private void sendWelcomeMessage() {
    String welcomeMessage = "Добро пожаловать в чат, " + this.name + "!\n" +
                            "Чтобы отправить личное сообщение, используйте формат '@username: message'.\n" +
                            "Пример: '@alex: Привет, как дела?'.";
    try {
        this.bufferedWriter.write(welcomeMessage);
        this.bufferedWriter.newLine();
        this.bufferedWriter.flush();
    } catch (IOException e) {
        closeEverything(this.socket, this.bufferedReader, this.bufferedWriter);
    }
}
```
После запуска приложения, в чате видим приветственное сообщение 

public static final List<ClientManager> clients = Collections.synchronizedList(new ArrayList<>());